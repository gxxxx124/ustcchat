# 管理员GID配置说明

## 功能说明

系统支持通过配置管理员GID列表，在USTC统一身份认证登录时自动判断用户是否为管理员。

## 配置方法

通过环境变量 `ADMIN_GIDS` 配置管理员GID列表，多个GID用逗号分隔。

### 示例

```bash
export ADMIN_GIDS="9202420483,9202420484,9202420485"
```

或者在 `.env` 文件中：
```
ADMIN_GIDS=9202420483,9202420484,9202420485
```

## 工作原理

1. 用户通过USTC统一身份认证登录
2. 系统获取用户的GID
3. 检查GID是否在 `ADMIN_GIDS` 列表中
4. 如果匹配，自动将用户设置为管理员
5. 根据管理员状态跳转到不同页面：
   - 管理员：`/auth/admin`
   - 普通用户：`/chat`

## 注意事项

1. **首次登录**：如果GID在管理员列表中，创建用户时会自动设置为管理员
2. **已存在用户**：如果用户已存在但GID匹配管理员列表，当前版本不会自动更新（需要在数据库中手动更新，或添加更新接口）
3. **GID格式**：确保GID格式正确，不要有多余的空格

## 如何获取用户GID

用户GID可以通过以下方式获取：
1. 查看应用日志：用户登录时会记录GID
2. 查看用户信息：在管理员控制台查看用户详情
3. 通过USTC统一身份认证系统查询

## 安全建议

1. 定期审查管理员列表
2. 移除不再需要管理员权限的GID
3. 使用最小权限原则，只添加必要的管理员

